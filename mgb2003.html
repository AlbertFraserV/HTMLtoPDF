<style>
    /* In a <style> tag in your HTML */
    .clickable_area {
        border: 2px solid transparent;
        transition: border-color 0.3s ease;
    }
    .clickable_area:hover {
        border-color: red;
    }
</style>


<div id="modal" style="display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);">
    <div style="background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 30%;">
        <h2>Enter Details</h2>
        <label for="quantity">Quantity:</label><br>
        <input type="text" id="quantity" name="quantity"><br>
        <label for="invoice">Invoice #:</label><br>
        <input type="text" id="invoice" name="invoice"><br>
        <label for="part">Part #:</label><br>
        <input type="text" id="part" name="part" readonly><br>
        <button id="submitBtn">Submit</button>
        <button id="cancelBtn">Cancel</button>
    </div>
</div>

<script>
document.querySelectorAll('area').forEach(function(area) {
    area.addEventListener('click', function(event) {
        event.preventDefault();  // Prevent navigation
        var partNumber = event.target.id.split("_").slice(2).join("-");  // Get the part number from the id
        document.getElementById('part').value = partNumber;  // Set the Part # in the modal
        document.getElementById('modal').style.display = "block";  // Show the modal
    });
});

// Close the modal when the Close button is clicked
document.getElementById('cancelBtn').addEventListener('click', function() {
    document.getElementById('modal').style.display = "none";
});

//Submit info to DB
document.getElementById('submitBtn').addEventListener('click', function() {
    const quantity = document.getElementById('quantity').value;
    const invoice_num = document.getElementById('invoice').value;
    const part_num = document.getElementById('part').value;
    url = "http://127.0.0.1:5000/insertpart?invoice_num=" + invoice_num + "&part_num=" + part_num + "&quantity=" + quantity;
    fetch(url)
    .then(response => response.text())
    .then(data => console.log(data))
    .catch((error) => console.error('Error:', error));
});

</script>